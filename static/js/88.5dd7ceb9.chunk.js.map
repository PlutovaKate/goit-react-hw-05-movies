{"version":3,"file":"static/js/88.5dd7ceb9.chunk.js","mappings":"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","sources":["components/services/fetchMoviesApi.js","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["const API_KEY = 'e5e20b17de62d5a60669623e09d8690f';\nconst URL = 'https://api.themoviedb.org/3/';\n\nexport function getMovies() {\n  return fetch(`${URL}trending/movie/day?api_key=${API_KEY}`).then(res =>\n    res.json()\n  );\n}\n\nexport function getMoviesById(id) {\n  return fetch(`${URL}movie/${id}?api_key=${API_KEY}`).then(res => res.json());\n}\n\nexport function getMoviesBySearch(query) {\n  return fetch(\n    `${URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US`\n  ).then(res => res.json());\n}\n\nexport function getMoviesCast(id) {\n  return fetch(`${URL}movie/${id}/credits?api_key=${API_KEY}`).then(res =>\n    res.json()\n  );\n}\n\nexport function getMoviesReview(id) {\n  return fetch(`${URL}movie/${id}/reviews?api_key=${API_KEY}`).then(res =>\n    res.json()\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"trendsTitle\":\"MoviesList_trendsTitle__+0Xmd\",\"movie\":\"MoviesList_movie__gS8QL\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ trendingMovies, movies }) => {\n  const location = useLocation();\n\n  return (\n    <div>\n      {trendingMovies && (\n        <>\n          <h2 className={css.trendsTitle}>Trending today</h2>\n          <ul>\n            {trendingMovies.map(({ title, id }) => (\n              <li key={id} className={css.movie}>\n                <Link to={`/movies/${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n      {movies && (\n        <>\n          <ul>\n            {movies.map(({ title, id }) => (\n              <li key={id} className={css.movie}>\n                <Link to={`/movies/${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  trendingMovies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n    }).isRequired\n  ),\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n    }).isRequired\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"submit\":\"Movies_submit__Nxgt8\",\"noMovies\":\"Movies_noMovies__VWe5H\"};","import { React, useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMoviesBySearch } from 'components/services/fetchMoviesApi';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieId = searchParams.get('movieId') ?? '';\n  const [movies, setMovies] = useState(null);\n  const [totalMovies, setTotalMovies] = useState(null);\n  const [inputSearch, setInputSearch] = useState(movieId);\n\n  useEffect(() => {\n    setMovies(null);\n    setTotalMovies(null);\n\n    getMoviesBySearch(movieId)\n      .then(data => {\n        setMovies(data.results);\n        setTotalMovies(data.total_results);\n      })\n      .catch(console.log);\n  }, [movieId]);\n\n  const handleInputChange = evt => {\n    setInputSearch(evt.currentTarget.value);\n  };\n\n  const handleFormSubmit = evt => {\n    evt.preventDefault();\n    const movieIdValue = evt.target;\n    const movieIdNormalized = movieIdValue.movieId.value.toLowerCase().trim();\n\n    if (movieIdNormalized === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ movieId: movieIdNormalized });\n    movieIdValue.reset();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleFormSubmit} className={css.form}>\n        <input\n          type=\"text\"\n          name=\"movieId\"\n          className={css.input}\n          onChange={handleInputChange}\n          value={inputSearch}\n        />\n\n        <button type=\"submit\" className={css.submit}>\n          Search\n        </button>\n      </form>\n\n      {movies && <MoviesList movies={movies} />}\n      {totalMovies === 0 && (\n        <div className={css.noMovies}>Try to find movie</div>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","URL","getMovies","fetch","then","res","json","getMoviesById","id","getMoviesBySearch","query","getMoviesCast","getMoviesReview","trendingMovies","movies","location","useLocation","className","css","map","title","to","state","from","useSearchParams","searchParams","setSearchParams","movieId","get","useState","setMovies","totalMovies","setTotalMovies","inputSearch","setInputSearch","useEffect","data","results","total_results","catch","console","log","onSubmit","evt","preventDefault","movieIdValue","target","movieIdNormalized","value","toLowerCase","trim","reset","type","name","onChange","currentTarget"],"sourceRoot":""}